<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</title>
<style>
  body {
    font-family: "Sarabun", sans-serif;
    background: #f5f5f5;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 500px;
    margin: 30px auto;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  h1 {
    text-align: center;
    color: #333;
  }
  .job-list {
    margin-top: 20px;
  }
  .job-item {
    background: #e3f2fd;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
  }
  .job-info {
    max-width: 70%;
  }
  .job-title {
    font-weight: bold;
    color: #0d47a1;
    margin: 0 0 5px 0;
  }
  .job-details {
    font-size: 0.9em;
    color: #555;
  }
  .accept-btn {
    background: #1976d2;
    color: #fff;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
  }
  .accept-btn:hover {
    background: #0d47a1;
  }
  @media(max-width: 400px){
    .job-info { max-width: 100%; margin-bottom: 10px; }
    .accept-btn { width: 100%; }
  }
</style>
</head>
<body>
<div class="container">
  <h1>‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô üöñ</h1>
  <div class="job-list" id="jobList">
    <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
  </div>
</div>

<script>
  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô
  const jobs = [
    { timestamp: "20251127T101200", title: "‡∏™‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô A", details: "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ‡∏ñ‡∏ô‡∏ô‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó‡∏¢‡πå" },
    { timestamp: "20251127T101300", title: "‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó B", details: "‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏≤, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ‡∏ã‡∏≠‡∏¢‡∏û‡∏´‡∏•‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô" }
  ];

  const jobList = document.getElementById("jobList");

  jobs.forEach(job => {
    const div = document.createElement("div");
    div.className = "job-item";

    const infoDiv = document.createElement("div");
    infoDiv.className = "job-info";
    infoDiv.innerHTML = `<p class="job-title">${job.title}</p><p class="job-details">${job.details}</p>`;

    const btn = document.createElement("button");
    btn.className = "accept-btn";
    btn.textContent = "‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô";
    btn.onclick = () => acceptJob(job.timestamp);

    div.appendChild(infoDiv);
    div.appendChild(btn);
    jobList.appendChild(div);
  });

  function acceptJob(timestamp) {
    if (!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

    // URL ‡∏Ç‡∏≠‡∏á Apps Script Web App ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    const scriptURL = "YOUR_APPS_SCRIPT_WEB_APP_URL"; // <-- ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ

    fetch(scriptURL, {
      method: "POST",
      body: JSON.stringify({ timestamp: timestamp }),
      headers: {
        "Content-Type": "application/json"
      }
    })
    .then(response => response.text())
    .then(result => {
      alert("‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‚úÖ");
      console.log(result);
      location.reload(); // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
    })
    .catch(error => {
      alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‚ùå ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
      console.error(error);
    });
  }
</script>
</body>
</html>

// 1) CSV ‡∏Ç‡∏≠‡∏á Google Sheet
//const SHEET_CSV_URL =
//"https://docs.google.com/spreadsheets/d/e/2PACX-1vQZ76zBRMHSdIQZdIsINO_AkNjOKJwa8bTC2b8s03L9_j_1mbAKCLb0ie4_icaye5wtBGXsP62bSjS-/pub?gid=699971133&single=true&output=csv";
// 2) Apps Script Web App URL
//const APPS_SCRIPT_URL =
//"https://script.google.com/macros/s/AKfycbxehIZ8c4RGLfrvK5eXxy3Kp8JZYPCsNkF_Kkyp6F3QZLSkGWacaZ7ATJmu4dHMbtQq/exec";
